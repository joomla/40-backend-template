Joomla=window.Joomla||{},function(){"use strict";Joomla.extractionMethodHandler=function(e,t){var a="direct"===e.value?"none":"table-row";document.getElementById(t+"_hostname").style.display=a,document.getElementById(t+"_port").style.display=a,document.getElementById(t+"_username").style.display=a,document.getElementById(t+"_password").style.display=a,document.getElementById(t+"_directory").style.display=a},Joomla.submitbuttonUpload=function(){var e=document.getElementById("uploadForm");""==e.install_package.value?alert(Joomla.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):e.submit()},document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("extraction_method"),t=document.getElementById("upload_method"),a=document.getElementById("uploadButton"),n=document.getElementById("downloadMessage");e&&e.addEventListener("change",function(t){Joomla.extractionMethodHandler(e,"row_ftp")}),t&&t.addEventListener("change",function(e){Joomla.extractionMethodHandler(t,"upload_ftp")}),a&&a.addEventListener("click",function(e){n&&(n.style.display="block")})})}(),function(e,t,a){var n={config:{serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},STATE:{INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},run:function(){n.joomlaTargetVersion=t.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-target-version"),e(n.config.selector).each(function(){n.checkCompatibility(e(this),n.setResultView)})},checkCompatibility:function(t,a){var o={$element:t,state:n.STATE.SERVER_ERROR,compatibleVersion:0};e.getJSON(n.config.serverUrl,{"joomla-target-version":n.joomlaTargetVersion,"extension-id":t.data("extensionId")}).done(function(e){o.state=e.data.state,o.compatibleVersion=e.data.compatibleVersion,o.currentVersion=t.data("extensionCurrentVersion")}).always(function(e){a(o)})},setResultView:function(e){var t="";switch(e.state){case n.STATE.COMPATIBLE:t=e.compatibleVersion==e.currentVersion?'<span class="badge badge-success">'+Joomla.JText._("JYES")+"</span>":'<span class="badge badge-warning">'+Joomla.JText._("JYES")+" ("+e.compatibleVersion+")</span>";break;case n.STATE.INCOMPATIBLE:t='<span class="badge badge-danger">'+Joomla.JText._("JNO")+"</span>";break;case n.STATE.MISSING_COMPATIBILITY_TAG:t='<span class="badge badge-secondary">'+Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_VERSION_MISSING")+"</span>";break;default:t='<span class="badge badge-secondary">'+Joomla.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")+"</span>"}e.$element.html(t)}};e(n.run)}(jQuery,document,window);