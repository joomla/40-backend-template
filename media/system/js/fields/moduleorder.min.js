window.writeDynaList=function(a,b,c,d,e){"use strict";var f,g=document.createElement("select");g.name=a.name,g.id=a.id,g.classList.add(a.itemClass),e&&(e.innerHTML="",e.appendChild(g));var h,i,j=c,k=0;for(h in b)b.hasOwnProperty(h)&&(i=b[h],f=document.createElement("option"),f.value=i[1],f.innerHTML=i[2],(j&&d==i[1]||!j&&0===k)&&f.setAttribute("selected","selected"),g.appendChild(f),k++)},function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector(".module-ajax-ordering"),b=a.getAttribute("data-linked-field")?a.getAttribute("data-linked-field"):"jform_position",c=document.getElementById(b),d=jQuery().chosen&&a.classList.contains("advansedSelect")?jQuery(c).chosen().val():c.value,e=function(a,b){var c=a.getAttribute("data-url"),d=a.getAttribute("data-client-id"),e=document.getElementById(a.getAttribute("data-element")),f=a.getAttribute("data-ordering"),g=a.getAttribute("data-name"),h="custom-select",i=a.getAttribute("id")+"_1",j=new Array;Joomla.request({url:c,method:"GET",data:{client_id:d,position:b},perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(c,d){if(c&&(c=JSON.parse(c),c.data.length>0)){for(var k=0;k<c.data.length;++k)j[k]=c.data[k].split(",");writeDynaList({name:g,id:i,itemClass:h},j,b,f,e);var l=document.getElementById(i);l&&jQuery().chosen&&a.classList.contains("advansedSelect")&&(l.chosen("destroy"),l.chosen())}"object"==typeof c.messages&&null!==c.messages&&(Joomla.renderMessages(c.messages),window.scrollTo(0,0))}})};e(a,d),jQuery().chosen&&a.classList.contains("advansedSelect")?c.chosen().change(function(){d=jQuery("#"+b).chosen().val(),e(a,d)}):c.addEventListener("change",function(){d=document.getElementById(b).value,e(a,d)})})}();