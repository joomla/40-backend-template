!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector(".module-ajax-ordering"),b=a.getAttribute("data-linked-field")?a.getAttribute("data-linked-field"):"jform_position",c=document.getElementById(b),d=jQuery().chosen&&a.classList.contains("advansedSelect")?jQuery(c).chosen().val():c.value,e=function(a,b,c,d,e){var f,g=document.createElement("select");g.classList.add(a.itemClass),g.setAttribute("name",a.name),g.id=a.id,e&&(e.innerHTML="",e.appendChild(g));var h,i,j=c,k=0;for(h in b)b.hasOwnProperty(h)&&(i=b[h],f=document.createElement("option"),f.value=i[1],f.innerHTML=i[2],(j&&d==i[1]||!j&&0===k)&&f.setAttribute("selected","selected"),g.appendChild(f),g.parentNode.innerHtml="",g.parentNode.appendChild(g),k++)},f=function(a,b){var c=a.getAttribute("data-url"),d=a.getAttribute("data-client-id"),f=document.getElementById(a.getAttribute("data-element")),g=a.getAttribute("data-ordering"),h=a.getAttribute("data-name"),i="custom-select",j=a.getAttribute("id")+"_1",k=new Array;Joomla.request({url:c,method:"GET",data:"client_id="+d+"&position="+b,perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(c,d){if(c&&(c=JSON.parse(c),c.data.length>0)){for(var l=0;l<c.data.length;++l)k[l]=c.data[l].split(",");e({name:h,id:j,itemClass:i},k,b,g,f);var m=document.getElementById(j);m&&jQuery().chosen&&a.classList.contains("advansedSelect")&&(m.chosen("destroy"),m.chosen())}"object"==typeof c.messages&&null!==c.messages&&(Joomla.renderMessages(c.messages),window.scrollTo(0,0))}})};f(a,d),jQuery().chosen&&a.classList.contains("advansedSelect")?c.chosen().change(function(){d=jQuery("#"+b).chosen().val(),f(a,d)}):c.addEventListener("change",function(){d=document.getElementById(b).value,f(a,d)})})}();