!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector(".module-ajax-ordering"),b=a.getAttribute("data-linked-field")?a.getAttribute("data-linked-field"):"jform_position",c=document.getElementById(b),d=c.value,e=function(a,b,c,d,e){var f,g=document.createElement("select");g.classList.add(a.itemClass),g.setAttribute("name",a.name),g.id=a.id,e&&(e.innerHTML="",e.appendChild(g));var h,i,j=c,k=0;for(h in b)b.hasOwnProperty(h)&&(i=b[h],f=document.createElement("option"),f.value=i[1],f.innerHTML=i[2],(j&&d==i[1]||!j&&0===k)&&f.setAttribute("selected","selected"),g.appendChild(f),g.parentNode.innerHtml="",g.parentNode.appendChild(g),k++)},f=function(a,b){var c=a.getAttribute("data-url"),d=a.getAttribute("data-client-id"),f=document.getElementById(a.getAttribute("data-element")),g=a.getAttribute("data-ordering"),h=a.getAttribute("data-name"),i=a.getAttribute("data-client-attr")?a.getAttribute("data-client-attr"):"custom-select",j=a.getAttribute("id")+"_1",k=new Array;Joomla.request({url:c,method:"GET",data:"client_id="+d+"&position="+b,perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:function(a,c){if(a&&(a=JSON.parse(a),a.data.length>0)){for(var d=0;d<a.data.length;++d)k[d]=a.data[d].split(",");e({name:h,id:j,itemClass:i},k,b,g,f)}"object"==typeof a.messages&&null!==a.messages&&(Joomla.renderMessages(a.messages),window.scrollTo(0,0))}})};f(a,d),window.jQuery&&jQuery().chosen?jQuery(c).chosen().change(function(){d=jQuery(c).chosen().val(),f(a,d),jQuery(a.childNodes[0]).chosen("destroy"),jQuery(a.childNodes[0]).chosen()}):c.addEventListener("change",function(){d=c.value,f(a,d)})})}();