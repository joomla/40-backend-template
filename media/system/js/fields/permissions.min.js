function sendPermissions(a){var b=document.getElementById("icon_"+this.id);b.removeAttribute("class"),b.setAttribute("style","background: url(../media/system/images/modal/spinner.gif); display: inline-block; width: 16px; height: 16px");var c="not",d=getUrlParam("component"),e=getUrlParam("extension"),f=getUrlParam("option"),g=getUrlParam("view"),h=d,i=this.value,j="";document.getElementById("jform_context")&&(j=document.getElementById("jform_context").value),"com_config"==f&&0==d&&0==e?c="root.1":0==e&&"component"==g?c=d:j?(c=j+".fieldgroup."+getUrlParam("id"),h=document.getElementById("jform_title").value):0!=e&&0!=g?(c=e+"."+g+"."+getUrlParam("id"),h=document.getElementById("jform_title").value):0==e&&0!=g&&(c=f+"."+g+"."+getUrlParam("id"),h=document.getElementById("jform_title").value);var k=this.id.replace("jform_rules_",""),l=k.lastIndexOf("_"),m={comp:c,action:k.substring(0,l),rule:k.substring(l+1),value:i,title:h};Joomla.removeMessages(),jQuery.ajax({method:"POST",url:document.getElementById("permissions-sliders").getAttribute("data-ajaxuri"),data:m,datatype:"json"}).fail(function(a,c,d){b.removeAttribute("style"),Joomla.renderMessages(Joomla.ajaxErrorsMessages(a,c,d)),window.scrollTo(0,0),b.setAttribute("class","icon-cancel")}).done(function(c){b.removeAttribute("style"),c.data&&1==c.data.result&&(b.setAttribute("class","icon-save"),jQuery(a.target).parents().next("td").find("span").removeClass().addClass(c.data.class).html(c.data.text)),"object"==typeof c.messages&&null!==c.messages&&(Joomla.renderMessages(c.messages),c.data&&1==c.data.result?b.setAttribute("class","icon-save"):b.setAttribute("class","icon-cancel"),window.scrollTo(0,0))})}function getUrlParam(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return!1}