var JFormValidator=function(){"use strict";var a,b,c,d=function(a,b){for(var c=0,d=a.length;c<d;++c)b(a[c],c)},e=function(b,c,d){d=""===d||d,a[b]={enabled:d,exec:c}},f=function(a,b){var c=b.form.querySelector('label[for="'+b.id+'"]');if(a===!1){b.classList.remove("form-control-success"),b.classList.add("form-control-danger"),b.setAttribute("aria-invalid","true");var d=b.getAttribute("data-validation-text");if(d&&!b.parentNode.querySelector("span.form-control-danger")){var e=document.createElement("span");e.classList.add("form-control-danger"),e.innerHTML=d,b.parentNode.appendChild(e)}c&&c.classList.add("form-control-danger")}else if(b.classList.contains("required")||b.getAttribute("required")){var d=b.parentNode.querySelector("span.form-control-danger");b.classList.remove("form-control-danger"),b.classList.add("form-control-success"),b.setAttribute("aria-invalid","false"),d&&b.parentNode.removeChild(d),c&&c.classList.remove("form-control-danger")}},g=function(b){var c,d;if("disabled"==b.getAttribute("disabled")||"none"==b.getAttribute("display"))return f(!0,b),!0;if(b.getAttribute("required")||b.classList.contains("required"))if(c=b.tagName.toLowerCase(),"fieldset"===c&&(b.classList.contains("radio")||b.classList.contains("checkboxes"))){if(!b.querySelector("input:checked").length)return f(!1,b),!1}else if(!b.value||b.classList.contains("placeholder")||"checkbox"===b.getAttribute("type")&&0!==!b.checked.length)return f(!1,b),!1;return d=b.getAttribute("class")&&b.getAttribute("class").match(/validate-([a-zA-Z0-9\_\-]+)/)?b.getAttribute("class").match(/validate-([a-zA-Z0-9\_\-]+)/)[1]:"",b.getAttribute("pattern")&&""!=b.getAttribute("pattern")?b.value.length?(h=new RegExp("^"+b.getAttribute("pattern")+"$").test(b.value),f(h,b),h):(f(!1,b),!1):""===d?(f(!0,b),!0):d&&"none"!==d&&a[d]&&b.value&&a[d].exec(b.value,b)!==!0?(f(!1,b),!1):(f(!0,b),!0)},h=function(a){var b,e,f,h,i,j,k=!0,l=[];for(b=a.querySelectorAll("input, textarea, select, button"),i=0,j=b.length;i<j;i++)g(b[i])===!1&&(k=!1,l.push(b[i]));for(var m in c)c.hasOwnProperty(m)&&c[validator].exec()!==!0&&(k=!1);if(d(c,function(a,b){b.exec()!==!0&&(k=!1)}),!k&&l.length>0){for(e=Joomla.JText._("JLIB_FORM_FIELD_INVALID"),f={error:[]},i=l.length-1;i>=0;i--)h=l[i].getAttribute("name")?l[i].getAttribute("name"):l[i].getAttribute("id"),h=h.replace("jform[","").replace("]","").replace("_"," "),h=h.toLowerCase().replace(/\b./g,function(a){return a.toUpperCase()}),h&&f.error.push(e+h);Joomla.renderMessages(f)}return k},i=function(a){var c,d=[];c=a.querySelectorAll("input, textarea, select, button");for(var e=0,f=c.length;e<f;e++){var i=c[e],j=i.tagName.toLowerCase();"input"!==j&&"button"!==j||"submit"!==i.getAttribute("type")&&"image"!==i.getAttribute("type")?"button"===j||"input"===j&&"button"===i.getAttribute("type")||(i.classList.contains("required")&&i.setAttribute("aria-required",!0),"fieldset"!==j&&(i.addEventListener("blur",function(){return g(this)}),i.classList.contains("validate-email")&&b&&i.setAttribute("type","email")),d.push(i)):i.classList.contains("validate")&&i.addEventListener("click",function(){return h(a)})}},j=function(){a={},c=c||{},b=function(){var a=document.createElement("input");return a.setAttribute("type","email"),"text"!==a.type}(),e("username",function(a,b){var c=new RegExp("[<|>|\"|'|%|;|(|)|&]","i");return!c.test(a)}),e("password",function(a,b){var c=/^\S[\S ]{2,98}\S$/;return c.test(a)}),e("numeric",function(a,b){var c=/^(\d|-)?(\d|,)*\.?\d*$/;return c.test(a)}),e("email",function(a,b){a=punycode.toASCII(a);var c=/^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return c.test(a)});for(var d=document.querySelectorAll("form"),f=0,g=d.length;f<g;f++)d[f].classList.contains("form-validate")&&i(d[f])};return j(),{isValid:h,validate:g,setHandler:e,attachToForm:i,custom:c}};document.formvalidator=null,document.addEventListener("DOMContentLoaded",function(){document.formvalidator=new JFormValidator});